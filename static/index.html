{{ define "index" }}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home</title>
    <link href="css/style.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.6"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="h-screen flex overflow-hidden bg-white-100">
    <aside
      class="w-64 bg-white shadow-md p4 hidden md:block"
      id="sidebar-asset"
    ></aside>

    <div class="flex-1 flex flex-col">
      <header class="bg-white p-4 flex justify-between items-center">
        <nav class="p-4">
          <div class="container mx-auto flex justify-between items-center">
            <div class="space-x-4">
              <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition"
                hx-get="/updateAsset"
                hx-swap="innerHTML"
                hx-target="#sidebar-asset">New</button>
              <button class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition">Filter</button>
            </div>
          </div>
        </nav>
      </header>
      <main class="flex-1 overflow-auto p-4">
        <div class="overflow-x-auto">
          <table class="min-w-full bg-white border border-gray-200">
            <thead class="bg-gray-100 text-left">
              <th class="px-4 py-2 border-b">ID</th>
              <th class="px-4 py-2 border-b">Owner</th>
              <th class="px-4 py-2 border-b">Date of Creation</th>
            </thead>
            <tbody id="asset-list">
              {{template "asset-list" .}}
            </tbody>
          </table>
        </div>
      </main>
    </div>
         </body>
</html>
{{ end }} 

{{ define "asset-list" }} 
  {{ range $key, $asset := . }}
    <tr
      hx-get="/updateAsset?id={{$key}}"
      hx-swap="innerHTML"
      hx-target="#sidebar-asset"
      hx-trigger="dblclick"
    >
      <td class="px-4 py-2 border-b">{{$asset.ID}}</td>
      <td class="px-4 py-2 border-b">{{$asset.Owner}}</td>
      <td class="px-4 py-2 border-b">{{$asset.DateOfCreation}}</td>
    </tr>
  {{ end }} 
{{ end }} 

{{ define "edit-asset" }}
<form hx-post="/uploadAsset" hx-target="#asset-list" hx-swap="innerHTML" class="max-w-md mx-auto p-6 space-y-6 bg-white rounded-lg shadow-lg mt-8">
    <div class="flex flex-col">
      <label for="id" class="text-sm font-semibold text-gray-800 mb-2">ID:</label>
      <input type="text" name="id" value="{{ .ID }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition"/>
    </div>
    <div class="flex flex-col">
      <label for="owner" class="text-sm font-semibold text-gray-800 mb-2">Owner:</label>
      <input type="text" name="owner" value="{{ .Owner }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition"/>
    </div>
    <div class="flex flex-col">
      <label for="date-of-creation" class="text-sm font-semibold text-gray-800 mb-2">Date of Creation:</label>
      <input type="text" name="date-of-creation" value="{{ .DateOfCreation }}" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:border-transparent transition"/>
    </div>
    <input type="submit" value="Update Asset" class="w-full px-4 py-2 bg-blue-600 text-white font-medium rounded-lg shadow-md hover:bg-blue-700 active:bg-blue-800 transition duration-200 cursor-pointer"/>
  </form>
{{ end }} 

{{define "asset-editor"}}
<form hx-post="/uploadAsset" hx-target="#asset-list" hx-swap="innerHTML">
  <label for="id">ID:</label> <input type="text" name="id" /><br />
  <label for="owner">Owner:</label> <input type="text" name="owner" /><br />
  <label for="date-of-creation">Date of Creation:</label>
  <input type="text" name="date-of-creation" /><br />
  <input type="submit" value="Add Asset" />
</form>
{{end}}
